<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Forem Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-slate-100 text-slate-800 min-h-screen pb-12">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-20 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <a href="index.html" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
                <div class="bg-purple-600 p-2 rounded-lg text-white">
                    <i data-lucide="bar-chart-3" class="h-6 w-6"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-slate-800 leading-tight">
                        Forem Explorer - Dashboard
                    </h1>
                    <p class="text-xs text-slate-500 font-medium">Vue d'ensemble de votre recherche d'emploi</p>
                </div>
            </a>
            <div class="flex gap-2">
                <a href="index.html" class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 rounded-lg border border-slate-300 shadow-sm transition-all">
                    <i data-lucide="search" class="h-4 w-4"></i>
                    Rechercher
                </a>
                <a href="profile.html" class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg shadow-sm transition-all">
                    <i data-lucide="user-circle" class="h-4 w-4"></i>
                    Profil
                </a>
                <a href="aide.html" class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 rounded-lg border border-slate-300 shadow-sm transition-all">
                    <i data-lucide="help-circle" class="h-4 w-4"></i>
                    Aide
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-6">
        
        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
            <!-- Total Jobs -->
            <a href="index.html?tracked=true" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer group">
                <div class="flex items-center justify-between mb-3">
                    <div class="p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors">
                        <i data-lucide="briefcase" class="h-6 w-6 text-blue-600"></i>
                    </div>
                    <span id="totalJobs" class="text-3xl font-bold text-slate-800">0</span>
                </div>
                <h3 class="text-sm font-medium text-slate-600">Total suivi</h3>
                <p class="text-xs text-slate-400 mt-1">Offres tracées</p>
            </a>

            <!-- Bookmarked -->
            <a href="index.html?bookmarkFilter=only" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-amber-300 transition-all cursor-pointer group">
                <div class="flex items-center justify-between mb-3">
                    <div class="p-3 bg-amber-100 rounded-lg group-hover:bg-amber-200 transition-colors">
                        <i data-lucide="bookmark" class="h-6 w-6 text-amber-600"></i>
                    </div>
                    <span id="bookmarkedJobs" class="text-3xl font-bold text-slate-800">0</span>
                </div>
                <h3 class="text-sm font-medium text-slate-600">À consulter</h3>
                <p class="text-xs text-slate-400 mt-1">En attente de lecture</p>
            </a>

            <!-- Applied -->
            <a href="index.html?appliedFilter=only" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-green-300 transition-all cursor-pointer group">
                <div class="flex items-center justify-between mb-3">
                    <div class="p-3 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors">
                        <i data-lucide="send" class="h-6 w-6 text-green-600"></i>
                    </div>
                    <span id="appliedJobs" class="text-3xl font-bold text-slate-800">0</span>
                </div>
                <h3 class="text-sm font-medium text-slate-600">Postulées</h3>
                <p class="text-xs text-slate-400 mt-1">Candidatures envoyées</p>
            </a>

            <!-- With Notes -->
            <a href="index.html?noted=true" class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md hover:border-purple-300 transition-all cursor-pointer group">
                <div class="flex items-center justify-between mb-3">
                    <div class="p-3 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors">
                        <i data-lucide="file-edit" class="h-6 w-6 text-purple-600"></i>
                    </div>
                    <span id="notedJobs" class="text-3xl font-bold text-slate-800">0</span>
                </div>
                <h3 class="text-sm font-medium text-slate-600">Avec notes</h3>
                <p class="text-xs text-slate-400 mt-1">Offres annotées</p>
            </a>
        </div>

        <!-- Charts Row -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Activity Timeline -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <h2 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <i data-lucide="activity" class="h-5 w-5 text-blue-600"></i>
                    Activité des 30 derniers jours
                </h2>
                <div class="h-64">
                    <canvas id="activityChart"></canvas>
                </div>
            </div>

            <!-- Status Distribution -->
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <h2 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                    <i data-lucide="pie-chart" class="h-5 w-5 text-purple-600"></i>
                    Répartition des statuts
                </h2>
                <div class="h-64">
                    <canvas id="statusChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Upcoming Follow-ups -->
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
            <h2 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i data-lucide="calendar-clock" class="h-5 w-5 text-orange-600"></i>
                Suivis à venir (7 prochains jours)
            </h2>
            <div id="upcomingList" class="space-y-3">
                <div class="text-center py-8 text-slate-400">
                    <i data-lucide="calendar-x" class="h-12 w-12 mx-auto mb-2 opacity-30"></i>
                    <p>Aucun suivi planifié</p>
                </div>
            </div>
        </div>

        <!-- Insights & Recommendations -->
        <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-sm border border-blue-200 p-6">
            <h2 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i data-lucide="lightbulb" class="h-5 w-5 text-yellow-600"></i>
                Insights & Recommandations
            </h2>
            <div id="insightsList" class="space-y-3">
                <!-- Dynamic insights will be inserted here -->
            </div>
        </div>

    </main>

    <script type="module" src="js/dashboard.js"></script>
</body>
</html>
